---
// src/pages/index.astro
---

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Astro Blog</title>
    <link rel="stylesheet" href="/styles/global.css">
</head>

<body>
    <div class="container">
        <nav class="sidebar">
            <SearchBox client:load />
            <CategoryList client:load />
        </nav>
        <main>
            <h1>Welcome to My Blog</h1>
            <ArticleList client:load />
        </main>
    </div>
</body>

</html>

---
// src/components/SearchBox.astro
---

<script>
    function handleSearch() {
        const searchTerm = document.getElementById('search').value;
        // Implement search logic here
        console.log('Searching for:', searchTerm);
    }
</script>

<div class="search-box">
    <input type="text" id="search" placeholder="Search articles...">
    <button onclick="handleSearch()">Search</button>
</div>

---
// src/components/CategoryList.astro
---

<script>
    const categories = ['Technology', 'Science', 'Travel', 'Food'];
    const categoryList = document.getElementById('category-list');

    categories.forEach(category => {
        const li = document.createElement('li');
        li.textContent = category;
        li.onclick = () => filterByCategory(category);
        categoryList.appendChild(li);
    });

    function filterByCategory(category) {
        console.log('Filtering by category:', category);
        // Implement filtering logic here
    }
</script>

<ul id="category-list"></ul>

---
// src/components/ArticleList.astro
---

<script>
    const articles = [
        { title: 'Article 1', category: 'Technology', content: '...' },
        { title: 'Article 2', category: 'Science', content: '...' },
        // Add more articles here
    ];

    const articleList = document.getElementById('article-list');

    function renderArticles(filteredArticles = articles) {
        articleList.innerHTML = '';
        filteredArticles.forEach(article => {
            const li = document.createElement('li');
            li.innerHTML = `
                <h2>${article.title}</h2>
                <p>Category: ${article.category}</p>
                <p>${article.content.substring(0, 100)}...</p>
                <button onclick="showComments('${article.title}')">Show Comments</button>
            `;
            articleList.appendChild(li);
        });
    }

    function showComments(articleTitle) {
        console.log('Showing comments for:', articleTitle);
        // Implement comment display logic here
    }

    renderArticles();
</script>

<ul id="article-list"></ul>

---
// src/components/CommentSection.astro
---

<script>
    function addComment(articleTitle) {
        const commentText = document.getElementById('comment-text').value;
        console.log('Adding comment to', articleTitle, ':', commentText);
        // Implement comment submission logic here
    }
</script>

<div class="comment-section">
    <h3>Comments</h3>
    <ul id="comments-list">
        <!-- Comments will be dynamically added here -->
    </ul>
    <textarea id="comment-text" placeholder="Add a comment..."></textarea>
    <button onclick="addComment('Current Article')">Submit Comment</button>
</div>

---
// src/styles/global.css
---

body {
font-family: Arial, sans-serif;
margin: 0;
padding: 0;
}

.container {
display: flex;
}

.sidebar {
width: 250px;
padding: 20px;
background-color: #f0f0f0;
}

main {
flex-grow: 1;
padding: 20px;
}

.search-box {
margin-bottom: 20px;
}

#category-list {
list-style-type: none;
padding: 0;
}

#category-list li {
cursor: pointer;
padding: 5px 0;
}

#article-list {
list-style-type: none;
padding: 0;
}

.comment-section {
margin-top: 20px;
}